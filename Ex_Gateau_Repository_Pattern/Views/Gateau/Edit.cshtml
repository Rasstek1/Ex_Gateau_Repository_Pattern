@model Gateau

@{
    ViewData["Title"] = "Modifier un gâteau";
}

<form method="post" action="@Url.Action("Edit", "Gateau", new { id = Model.Id })">
    <div class="mb-3">
        <label for="nom" class="form-label">Nom du gâteau</label>
        <input type="text" class="form-control" id="nom" name="Nom" value="@Model.Nom" required>
        <span class="text-danger">@Html.ValidationMessageFor(m => m.Nom)</span>
    </div>
    <div class="mb-3">
        <label for="urlImage" class="form-label">URL de l'image</label>
        <input type="text" class="form-control" id="urlImage" name="UrlImage" value="@Model.UrlImage" required>
        <span class="text-danger">@Html.ValidationMessageFor(m => m.UrlImage)</span>
    </div>
    <div class="mb-3">
        <label for="description" class="form-label">Description</label>
        <textarea class="form-control" id="description" name="Description" rows="3" required>@Model.Description</textarea>
        <span class="text-danger">@Html.ValidationMessageFor(m => m.Description)</span>
    </div>
    <div class="mb-3">
        <label for="ingredients" class="form-label">Ingrédients</label>
        @for (int i = 0; i < Model.Ingredients.Count; i++)
        {
            <div class="ingredient-container">
                <input type="hidden" name="Ingredients.Index" value="@i" />
                <div class="row">
                    <div class="col-md-4">
                        <input type="text" class="form-control" name="Ingredients[@i].Nom" value="@Model.Ingredients[i].Nom" required>
                    </div>
                    <div class="col-md-2">
                        <input type="text" class="form-control" name="Ingredients[@i].Type" value="@Model.Ingredients[i].Type">
                    </div>
                    <div class="col-md-2">
                        <input type="text" class="form-control" name="Ingredients[@i].Quantite" value="@Model.Ingredients[i].Quantite" required>
                    </div>
                    <div class="col-md-2">
                        <input type="text" class="form-control" name="Ingredients[@i].Unite" value="@Model.Ingredients[i].Unite">
                    </div>
                    <div class="col-md-2">
                        <input type="text" class="form-control" name="Ingredients[@i].Prix" value="@Model.Ingredients[i].Prix" required>
                    </div>
                </div>
            </div>
        }
    </div>
    <input type="submit" value="Modifier le gâteau" class="btn btn-warning">
</form>
